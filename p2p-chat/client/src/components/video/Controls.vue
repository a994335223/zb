<script setup lang="ts">
interface Props {
  isAudioEnabled: boolean
  isVideoEnabled: boolean
  isMobile?: boolean
}

const props = withDefaults(defineProps<Props>(), {
  isMobile: false,
})

const emit = defineEmits<{
  toggleAudio: []
  toggleVideo: []
  switchCamera: []
  openSettings: []
  leaveRoom: []
}>()
</script>

<template>
  <div class="flex items-center justify-center gap-3 p-4 bg-gray-900 border-t border-gray-800">
    <!-- éº¦å…‹é£æŒ‰é’® -->
    <button
      @click="emit('toggleAudio')"
      :class="[
        'w-12 h-12 rounded-full flex items-center justify-center transition-all text-xl',
        isAudioEnabled 
          ? 'bg-gray-700 hover:bg-gray-600' 
          : 'bg-red-500 hover:bg-red-600'
      ]"
      :title="isAudioEnabled ? 'å…³é—­éº¦å…‹é£' : 'å¼€å¯éº¦å…‹é£'"
    >
      {{ isAudioEnabled ? 'ğŸ¤' : 'ğŸ”‡' }}
    </button>

    <!-- æ‘„åƒå¤´æŒ‰é’® -->
    <button
      @click="emit('toggleVideo')"
      :class="[
        'w-12 h-12 rounded-full flex items-center justify-center transition-all text-xl',
        isVideoEnabled 
          ? 'bg-gray-700 hover:bg-gray-600' 
          : 'bg-red-500 hover:bg-red-600'
      ]"
      :title="isVideoEnabled ? 'å…³é—­æ‘„åƒå¤´' : 'å¼€å¯æ‘„åƒå¤´'"
    >
      {{ isVideoEnabled ? 'ğŸ“¹' : 'ğŸ“·' }}
    </button>

    <!-- åˆ‡æ¢å‰åç½®æ‘„åƒå¤´ï¼ˆä»…ç§»åŠ¨ç«¯æ˜¾ç¤ºï¼‰ -->
    <button
      v-if="isMobile"
      @click="emit('switchCamera')"
      class="w-12 h-12 rounded-full bg-gray-700 hover:bg-gray-600 flex items-center justify-center transition-all text-xl"
      title="åˆ‡æ¢æ‘„åƒå¤´"
    >
      ğŸ”„
    </button>

    <!-- è®¾ç½®æŒ‰é’® -->
    <button
      @click="emit('openSettings')"
      class="w-12 h-12 rounded-full bg-gray-700 hover:bg-gray-600 flex items-center justify-center transition-all text-xl"
      title="æ‘„åƒå¤´è®¾ç½®"
    >
      âš™ï¸
    </button>

    <!-- ç¦»å¼€æŒ‰é’® -->
    <button
      @click="emit('leaveRoom')"
      class="w-12 h-12 rounded-full bg-red-600 hover:bg-red-700 flex items-center justify-center transition-all text-xl"
      title="ç¦»å¼€æˆ¿é—´"
    >
      ğŸ“
    </button>
  </div>
</template>

